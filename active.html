<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>

<body>


</body>

<script>
  // 数据劫持
  // 构造类
  // 依赖收集

  function defineReactive (obj, key, val) {
    Object.defineProperty(obj, key, {
      get: function () {
        console.log(`property ${key} getter`)
        return val
      },
      set: function (newVal) {
        console.log(`property ${key} is changed to ${newVal}`)
        val = newVal
      }
    })
  }

  // 将对象转为getter/setter对象
  function observe (obj) {
    const keys = Object.keys(obj)
    keys.forEach(function (key) {
      defineReactive(obj, key, obj[key])
    })
    return obj
  }

  // 对象变化，触发




  let a = {
    name: 'test',
    age: 11,
    gender: 1
  }




</script>

</html>